<%- include("admin-topbar.ejs") %>

  <div class="container-fluid py-4">
    <div class="row mb-4">
      <div class="col-12 text-center">
        <h3 class="fw-bold">Faculty</h3>
      </div>
    </div>

    <div class="row mb-3">
      <div class="col-12">
        <a class="btn btn-primary" data-bs-toggle="collapse" href="#collapseFaculty" role="button" aria-expanded="false"
          aria-controls="collapseFaculty">
          Add Faculty
        </a>
      </div>
    </div>

    <div class="row">
      <div class="col-12">
        <div class="collapse" id="collapseFaculty">
          <form action="/admin/save-faculty" method="post" enctype="multipart/form-data"
            class="shadow-sm p-4 border rounded">

            <div class="row">

              <div class="col-md-6 mb-3">
                <label for="faculty_name" class="form-label">Name*</label>
                <input type="text" name="faculty_name" class="form-control" id="faculty_name"
                  placeholder="Enter Faculty name" required>
              </div>

              <div class="col-md-6 mb-3">
                <label for="faculty_photo" class="form-label">Photo</label>
                <input type="file" name="faculty_photo" class="form-control" id="faculty_photo"
                  placeholder="Upload Faculty photo" required>
              </div>

              <div class="col-md-6 mb-3">
                <label for="faculty_designation" class="form-label">Designation</label>
                <input type="text" name="faculty_designation" class="form-control" id="faculty_designation"
                  placeholder="Enter Faculty designation" required>
              </div>

              <div class="col-md-6 mb-3">
                <label for="faculty_dept" class="form-label">Department</label>
                <input type="text" name="faculty_dept" class="form-control" id="faculty_dept"
                  placeholder="Enter Faculty department" required>
              </div>

              <div class="col-md-6 mb-3">
                <label for="faculty_qual" class="form-label">Qualification</label>
                <input type="text" name="faculty_qual" class="form-control" id="faculty_qual"
                  placeholder="Enter Faculty qualification" required>
              </div>

              <div class="col-md-6 mb-4">
                <label for="faculty_exp" class="form-label">Experience</label>
                <input type="text" name="faculty_exp" class="form-control" id="faculty_exp"
                  placeholder="Enter Faculty experience" required>
              </div>

              <div class="col-12 text-center">
                <button type="submit" class="btn btn-success px-4">
                  Add Faculty
                </button>
              </div>

            </div>
          </form>
        </div>
      </div>
    </div>

    <div class="row">
      <div class="col-12">
        <div class="table-responsive">
          <table class="table table-bordered table-striped table-hover">
            <thead>
              <tr>
                <th scope="col">S.No</th>
                <th scope="col">Name</th>
                <th scope="col">Photo</th>
                <th scope="col">Designation</th>
                <th scope="col">Department</th>
                <th scope="col">Qualification</th>
                <th scope="col">Experience</th>
                <th scope="col">Actions</th>
              </tr>
            </thead>
            <tbody>
              <% if (typeof facultyData !== 'undefined' && facultyData.length > 0) { %>
                <% for (let i = 0; i < facultyData.length; i++) { %>
                  <tr>
                    <td><%= i + 1 %></td>
                    <td><%= facultyData[i].faculty_name %></td>
                    <td><img src="/images/<%= facultyData[i].faculty_photo %>" alt="Faculty Photo" class="img-fluid rounded" style="max-width:75px;"></td>
                    <td><%= facultyData[i].faculty_designation %></td>
                    <td><%= facultyData[i].faculty_dept %></td>
                    <td><%= facultyData[i].faculty_qual %></td>
                    <td><%= facultyData[i].faculty_exp %></td>
                    <td>
                      <a href="/admin/edit-faculty/<%= facultyData[i].faculty_id %>" class="btn btn-sm btn-warning"><i class="bi bi-pencil"></i></a>
                      <a href="/admin/delete-faculty/<%= facultyData[i].faculty_id %>" onclick="return confirm('Are you sure you want to delete this faculty?');" class="btn btn-sm btn-danger"><i class="bi bi-trash"></i></a>
                    </td>
                  </tr>
                <% } %>
              <% } else { %>
                <tr>
                  <td colspan="8" class="text-center">No Faculty Found</td>
                </tr>
              <% } %>

            </tbody>
          </table>
        </div>
      </div>
    </div>

    <%- include("admin-footer.ejs") %>