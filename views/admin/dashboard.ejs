<%- include("admin-topbar.ejs") %>

  <!-- Dashboard Content -->
  <style>
    :root {
      --primary-color: #2563EB;
      --secondary-color: #7C3AED;
      --accent-color: #4cc9f0;
      --success-color: #10b981;
      --warning-color: #f59e0b;
      --danger-color: #ef4444;
      --light-bg: #f8f9fa;
      --dark-text: #212529;
      --light-text: #6c757d;
      --card-shadow: 0 10px 30px rgba(0, 0, 0, 0.08);
      --card-hover-shadow: 0 15px 40px rgba(37, 99, 235, 0.15);
    }

    /* Stats Cards */
    .stat-card {
      background: white;
      border-radius: 16px;
      padding: 1.5rem;
      box-shadow: var(--card-shadow);
      transition: all 0.3s ease;
      border: none;
      position: relative;
      overflow: hidden;
    }

    .stat-card::before {
      content: '';
      position: absolute;
      top: 0;
      right: 0;
      width: 100px;
      height: 100px;
      background: linear-gradient(135deg, rgba(37, 99, 235, 0.1), transparent);
      border-radius: 0 16px 0 100%;
    }

    .stat-card:hover {
      transform: translateY(-5px);
      box-shadow: var(--card-hover-shadow);
    }

    .stat-icon {
      width: 60px;
      height: 60px;
      border-radius: 12px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 24px;
      color: white;
      margin-bottom: 1rem;
    }

    .stat-icon.primary {
      background: linear-gradient(135deg, #2563EB, #1d4ed8);
    }

    .stat-icon.secondary {
      background: linear-gradient(135deg, #7C3AED, #6d28d9);
    }

    .stat-icon.success {
      background: linear-gradient(135deg, #10b981, #059669);
    }

    .stat-icon.warning {
      background: linear-gradient(135deg, #f59e0b, #d97706);
    }

    .stat-icon.accent {
      background: linear-gradient(135deg, #4cc9f0, #3a9fb8);
    }

    .stat-icon.danger {
      background: linear-gradient(135deg, #ef4444, #dc2626);
    }

    .stat-value {
      font-size: 2rem;
      font-weight: 700;
      color: var(--dark-text);
      margin-bottom: 0.25rem;
    }

    .stat-label {
      color: var(--light-text);
      font-size: 0.9rem;
      font-weight: 500;
    }

    .stat-change {
      font-size: 0.85rem;
      font-weight: 600;
      margin-top: 0.5rem;
    }

    .stat-change.positive {
      color: var(--success-color);
    }

    .stat-change.negative {
      color: var(--danger-color);
    }

    /* Chart Cards */
    .chart-card {
      background: white;
      border-radius: 16px;
      padding: 1.5rem;
      box-shadow: var(--card-shadow);
      border: none;
      height: 100%;
    }

    .chart-card h5 {
      color: var(--dark-text);
      font-weight: 700;
      margin-bottom: 1.5rem;
    }

    /* Quick Actions */
    .quick-action-btn {
      background: white;
      border: 2px solid #e9ecef;
      border-radius: 12px;
      padding: 1.25rem;
      text-align: center;
      transition: all 0.3s ease;
      text-decoration: none;
      display: block;
      color: var(--dark-text);
    }

    .quick-action-btn:hover {
      border-color: var(--primary-color);
      background: linear-gradient(135deg, rgba(37, 99, 235, 0.05), rgba(124, 58, 237, 0.05));
      transform: translateY(-3px);
      box-shadow: 0 8px 20px rgba(37, 99, 235, 0.15);
      color: var(--primary-color);
    }

    .quick-action-btn i {
      font-size: 2rem;
      margin-bottom: 0.75rem;
      display: block;
      background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }

    /* Recent Activity */
    .activity-item {
      padding: 1rem;
      border-left: 3px solid #e9ecef;
      margin-bottom: 1rem;
      background: white;
      border-radius: 0 8px 8px 0;
      transition: all 0.3s ease;
    }

    .activity-item:hover {
      border-left-color: var(--primary-color);
      background: #f8f9fa;
      transform: translateX(5px);
    }

    .activity-icon {
      width: 40px;
      height: 40px;
      border-radius: 10px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 18px;
      color: white;
    }

    /* Table Styles */
    .modern-table {
      background: white;
      border-radius: 16px;
      overflow: hidden;
      box-shadow: var(--card-shadow);
    }

    .modern-table thead {
      background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
      color: white;
    }

    .modern-table thead th {
      border: none;
      padding: 1rem;
      font-weight: 600;
      font-size: 0.9rem;
    }

    .modern-table tbody tr {
      transition: all 0.2s ease;
    }

    .modern-table tbody tr:hover {
      background: #f8f9fa;
    }

    .modern-table tbody td {
      padding: 1rem;
      vertical-align: middle;
      border-bottom: 1px solid #f0f0f0;
    }

    .badge-modern {
      padding: 0.4rem 0.8rem;
      border-radius: 20px;
      font-weight: 600;
      font-size: 0.75rem;
    }

    /* Section Headers */
    .section-header {
      margin-bottom: 1.5rem;
    }

    .section-header h4 {
      color: var(--dark-text);
      font-weight: 700;
      margin-bottom: 0.25rem;
    }

    .section-header p {
      color: var(--light-text);
      margin: 0;
      font-size: 0.9rem;
    }

    /* Progress Bars */
    .progress-modern {
      height: 8px;
      border-radius: 10px;
      background: #e9ecef;
    }

    .progress-modern .progress-bar {
      border-radius: 10px;
      background: linear-gradient(90deg, var(--primary-color), var(--secondary-color));
    }

    /* Responsive */
    @media (max-width: 768px) {
      .stat-value {
        font-size: 1.5rem;
      }

      .stat-icon {
        width: 50px;
        height: 50px;
        font-size: 20px;
      }
    }
  </style>
<div class="container">
  <!-- Welcome Section -->
  <div class="mb-4">
    <h2 class="fw-bold mb-1" style="color: var(--dark-text);">Welcome back, Admin! ðŸ‘‹</h2>
    <p class="text-muted">Here's what's happening with your college today.</p>
  </div>

  <!-- Statistics Cards -->
  <div class="row g-4 mb-4">
    <!-- Total Students -->
    <div class="col-xl-3 col-md-6">
      <div class="stat-card">
        <div class="stat-icon primary">
          <i class="bi bi-people-fill"></i>
        </div>
        <div class="stat-value">1,547</div>
        <div class="stat-label">Total Students</div>
        <div class="stat-change positive">
          <i class="bi bi-arrow-up"></i> 12% from last month
        </div>
      </div>
    </div>

    <!-- Total Faculty -->
    <div class="col-xl-3 col-md-6">
      <div class="stat-card">
        <div class="stat-icon secondary">
          <i class="bi bi-person-badge-fill"></i>
        </div>
        <div class="stat-value">127</div>
        <div class="stat-label">Faculty Members</div>
        <div class="stat-change positive">
          <i class="bi bi-arrow-up"></i> 5 new this month
        </div>
      </div>
    </div>

    <!-- Active Courses -->
    <div class="col-xl-3 col-md-6">
      <div class="stat-card">
        <div class="stat-icon success">
          <i class="bi bi-book-fill"></i>
        </div>
        <div class="stat-value">45</div>
        <div class="stat-label">Active Courses</div>
        <div class="stat-change positive">
          <i class="bi bi-arrow-up"></i> 3 new courses
        </div>
      </div>
    </div>

    <!-- Pending Admissions -->
    <div class="col-xl-3 col-md-6">
      <div class="stat-card">
        <div class="stat-icon warning">
          <i class="bi bi-clock-fill"></i>
        </div>
        <div class="stat-value">89</div>
        <div class="stat-label">Pending Admissions</div>
        <div class="stat-change negative">
          <i class="bi bi-arrow-down"></i> Needs attention
        </div>
      </div>
    </div>
  </div>

  <!-- Charts Row -->
  <div class="row g-4 mb-4">
    <!-- Enrollment Trends -->
    <div class="col-xl-8">
      <div class="chart-card">
        <div class="d-flex justify-content-between align-items-center mb-3">
          <h5 class="mb-0">Enrollment Trends</h5>
          <div class="btn-group btn-group-sm" role="group">
            <button type="button" class="btn btn-outline-primary active">6M</button>
            <button type="button" class="btn btn-outline-primary">1Y</button>
            <button type="button" class="btn btn-outline-primary">All</button>
          </div>
        </div>
        <canvas id="enrollChart" height="80"></canvas>
      </div>
    </div>

    <!-- Course Distribution -->
    <div class="col-xl-4">
      <div class="chart-card">
        <h5>Course Distribution</h5>
        <canvas id="doughnut" height="200"></canvas>
        <div class="mt-3">
          <div class="d-flex justify-content-between mb-2">
            <span class="text-muted small">Diploma Programs</span>
            <span class="fw-bold">35%</span>
          </div>
          <div class="d-flex justify-content-between mb-2">
            <span class="text-muted small">Bachelor's Degrees</span>
            <span class="fw-bold">47%</span>
          </div>
          <div class="d-flex justify-content-between">
            <span class="text-muted small">Master's Degrees</span>
            <span class="fw-bold">18%</span>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Quick Actions -->
  <div class="row g-4 mb-4">
    <div class="col-12">
      <div class="section-header">
        <h4>Quick Actions</h4>
        <p>Frequently used actions for faster navigation</p>
      </div>
    </div>
    <div class="col-lg-2 col-md-4 col-6">
      <a href="/admin/admissions" class="quick-action-btn">
        <i class="bi bi-person-plus-fill"></i>
        <div class="fw-semibold">New Admission</div>
      </a>
    </div>
    <div class="col-lg-2 col-md-4 col-6">
      <a href="/admin/courses" class="quick-action-btn">
        <i class="bi bi-book-half"></i>
        <div class="fw-semibold">Add Course</div>
      </a>
    </div>
    <div class="col-lg-2 col-md-4 col-6">
      <a href="/admin/faculty" class="quick-action-btn">
        <i class="bi bi-person-badge"></i>
        <div class="fw-semibold">Add Faculty</div>
      </a>
    </div>
    <div class="col-lg-2 col-md-4 col-6">
      <a href="/admin/gallery" class="quick-action-btn">
        <i class="bi bi-images"></i>
        <div class="fw-semibold">Gallery</div>
      </a>
    </div>
    <div class="col-lg-2 col-md-4 col-6">
      <a href="/admin/enquiry" class="quick-action-btn">
        <i class="bi bi-envelope-fill"></i>
        <div class="fw-semibold">Enquiries</div>
      </a>
    </div>
    <div class="col-lg-2 col-md-4 col-6">
      <a href="/admin/achievements" class="quick-action-btn">
        <i class="bi bi-trophy-fill"></i>
        <div class="fw-semibold">Achievements</div>
      </a>
    </div>
  </div>

  <!-- Recent Admissions & Activity -->
  <div class="row g-4 mb-4">
    <!-- Recent Admissions Table -->
    <div class="col-xl-8">
      <div class="section-header">
        <h4>Recent Admissions</h4>
        <p>Latest student applications and enrollments</p>
      </div>
      <div class="modern-table">
        <table class="table table-hover mb-0">
          <thead>
            <tr>
              <th>Student Name</th>
              <th>Course</th>
              <th>Date</th>
              <th>Status</th>
              <th>Action</th>
            </tr>
          </thead>
          <tbody id="studentTable">
            <tr>
              <td>
                <div class="d-flex align-items-center gap-2">
                  <img src="https://i.pravatar.cc/40?img=1" class="avatar-sm" alt="">
                  <div>
                    <div class="fw-semibold">Rahul Sharma</div>
                    <div class="small text-muted">rahul.sharma@email.com</div>
                  </div>
                </div>
              </td>
              <td>B.Tech CSE</td>
              <td>Jan 10, 2026</td>
              <td><span class="badge badge-modern bg-success">Approved</span></td>
              <td>
                <button class="btn btn-sm btn-outline-primary">View</button>
              </td>
            </tr>
            <tr>
              <td>
                <div class="d-flex align-items-center gap-2">
                  <img src="https://i.pravatar.cc/40?img=5" class="avatar-sm" alt="">
                  <div>
                    <div class="fw-semibold">Priya Patel</div>
                    <div class="small text-muted">priya.patel@email.com</div>
                  </div>
                </div>
              </td>
              <td>MBA Finance</td>
              <td>Jan 9, 2026</td>
              <td><span class="badge badge-modern bg-warning text-dark">Pending</span></td>
              <td>
                <button class="btn btn-sm btn-outline-primary">View</button>
              </td>
            </tr>
            <tr>
              <td>
                <div class="d-flex align-items-center gap-2">
                  <img src="https://i.pravatar.cc/40?img=8" class="avatar-sm" alt="">
                  <div>
                    <div class="fw-semibold">Amit Kumar</div>
                    <div class="small text-muted">amit.kumar@email.com</div>
                  </div>
                </div>
              </td>
              <td>Diploma Mech</td>
              <td>Jan 8, 2026</td>
              <td><span class="badge badge-modern bg-success">Approved</span></td>
              <td>
                <button class="btn btn-sm btn-outline-primary">View</button>
              </td>
            </tr>
            <tr>
              <td>
                <div class="d-flex align-items-center gap-2">
                  <img src="https://i.pravatar.cc/40?img=9" class="avatar-sm" alt="">
                  <div>
                    <div class="fw-semibold">Sneha Reddy</div>
                    <div class="small text-muted">sneha.reddy@email.com</div>
                  </div>
                </div>
              </td>
              <td>B.Sc Physics</td>
              <td>Jan 7, 2026</td>
              <td><span class="badge badge-modern bg-info text-dark">Review</span></td>
              <td>
                <button class="btn btn-sm btn-outline-primary">View</button>
              </td>
            </tr>
            <tr>
              <td>
                <div class="d-flex align-items-center gap-2">
                  <img src="https://i.pravatar.cc/40?img=12" class="avatar-sm" alt="">
                  <div>
                    <div class="fw-semibold">Vikram Singh</div>
                    <div class="small text-muted">vikram.singh@email.com</div>
                  </div>
                </div>
              </td>
              <td>M.Tech AI</td>
              <td>Jan 6, 2026</td>
              <td><span class="badge badge-modern bg-success">Approved</span></td>
              <td>
                <button class="btn btn-sm btn-outline-primary">View</button>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>

    <!-- Recent Activity -->
    <div class="col-xl-4">
      <div class="section-header">
        <h4>Recent Activity</h4>
        <p>Latest updates and notifications</p>
      </div>
      <div class="activity-feed">
        <div class="activity-item">
          <div class="d-flex gap-3">
            <div class="activity-icon" style="background: linear-gradient(135deg, #10b981, #059669);">
              <i class="bi bi-person-check-fill"></i>
            </div>
            <div class="flex-grow-1">
              <div class="fw-semibold">New Student Enrolled</div>
              <div class="small text-muted">Rahul Sharma joined B.Tech CSE</div>
              <div class="small text-muted mt-1">
                <i class="bi bi-clock"></i> 2 hours ago
              </div>
            </div>
          </div>
        </div>

        <div class="activity-item">
          <div class="d-flex gap-3">
            <div class="activity-icon" style="background: linear-gradient(135deg, #2563EB, #1d4ed8);">
              <i class="bi bi-book-fill"></i>
            </div>
            <div class="flex-grow-1">
              <div class="fw-semibold">New Course Added</div>
              <div class="small text-muted">Data Science Diploma program</div>
              <div class="small text-muted mt-1">
                <i class="bi bi-clock"></i> 5 hours ago
              </div>
            </div>
          </div>
        </div>

        <div class="activity-item">
          <div class="d-flex gap-3">
            <div class="activity-icon" style="background: linear-gradient(135deg, #7C3AED, #6d28d9);">
              <i class="bi bi-trophy-fill"></i>
            </div>
            <div class="flex-grow-1">
              <div class="fw-semibold">Achievement Updated</div>
              <div class="small text-muted">95% placement record achieved</div>
              <div class="small text-muted mt-1">
                <i class="bi bi-clock"></i> 1 day ago
              </div>
            </div>
          </div>
        </div>

        <div class="activity-item">
          <div class="d-flex gap-3">
            <div class="activity-icon" style="background: linear-gradient(135deg, #f59e0b, #d97706);">
              <i class="bi bi-envelope-fill"></i>
            </div>
            <div class="flex-grow-1">
              <div class="fw-semibold">New Enquiry</div>
              <div class="small text-muted">15 new enquiries received</div>
              <div class="small text-muted mt-1">
                <i class="bi bi-clock"></i> 1 day ago
              </div>
            </div>
          </div>
        </div>

        <div class="activity-item">
          <div class="d-flex gap-3">
            <div class="activity-icon" style="background: linear-gradient(135deg, #4cc9f0, #3a9fb8);">
              <i class="bi bi-images"></i>
            </div>
            <div class="flex-grow-1">
              <div class="fw-semibold">Gallery Updated</div>
              <div class="small text-muted">20 new photos added to campus gallery</div>
              <div class="small text-muted mt-1">
                <i class="bi bi-clock"></i> 2 days ago
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Performance Metrics -->
  <div class="row g-4 mb-4">
    <div class="col-12">
      <div class="section-header">
        <h4>Performance Metrics</h4>
        <p>Track key performance indicators</p>
      </div>
    </div>

    <div class="col-md-6">
      <div class="chart-card">
        <h6 class="fw-semibold mb-3">Weekly Attendance</h6>
        <canvas id="attendanceChart" height="100"></canvas>
      </div>
    </div>

    <div class="col-md-6">
      <div class="chart-card">
        <h6 class="fw-semibold mb-3">Department-wise Students</h6>
        <div class="mb-3">
          <div class="d-flex justify-content-between mb-2">
            <span class="small">Computer Science</span>
            <span class="small fw-bold">450 students</span>
          </div>
          <div class="progress progress-modern">
            <div class="progress-bar" style="width: 75%"></div>
          </div>
        </div>
        <div class="mb-3">
          <div class="d-flex justify-content-between mb-2">
            <span class="small">Mechanical Engineering</span>
            <span class="small fw-bold">320 students</span>
          </div>
          <div class="progress progress-modern">
            <div class="progress-bar" style="width: 55%"></div>
          </div>
        </div>
        <div class="mb-3">
          <div class="d-flex justify-content-between mb-2">
            <span class="small">Business Administration</span>
            <span class="small fw-bold">280 students</span>
          </div>
          <div class="progress progress-modern">
            <div class="progress-bar" style="width: 45%"></div>
          </div>
        </div>
        <div class="mb-3">
          <div class="d-flex justify-content-between mb-2">
            <span class="small">Science & Arts</span>
            <span class="small fw-bold">497 students</span>
          </div>
          <div class="progress progress-modern">
            <div class="progress-bar" style="width: 85%"></div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
  <%- include("admin-footer.ejs") %>