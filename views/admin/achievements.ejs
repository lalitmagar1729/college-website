<%- include("admin-topbar.ejs") %>

  <div class="container-fluid">
    <div class="row">
      <div class="col-md-12">
        <h2 class="text-center">Achievements & Accreditations</h2>
      </div>

      <div class="col-12">
        <p class="d-inline-flex gap-1">
          <a class="btn btn-primary" data-bs-toggle="collapse" href="#collapseExample" role="button"
            aria-expanded="false" aria-controls="collapseExample">
            Add Achievement
          </a>
        </p>
        <div class="collapse" id="collapseExample">
          <div class="card card-body">
            <div class="container-fluid">
              <div class="row">
                <form action="/admin/save-achievement" method="POST">
                  <div class="mb-3">
                    <label for="achievement_title">Achievement Title</label>
                    <input type="text" name="achievement_title" class="form-control"
                      placeholder="Enter Achievement Title" id="achievement_title" required>
                  </div>

                  <div class="mb-3">
                    <label for="achievement_counter">Counter</label>
                    <input type="number" name="achievement_counter" class="form-control" placeholder="Enter Counter"
                      id="achievement_counter" required>
                  </div>

                  <div class="mb-3">
                    <label for="achievement_icon">Select Icon</label>
                    <select name="achievement_icon" class="form-select" id="achievement_icon" required>
                      <option selected value="">-- choose --</option>
                      <option value="bi-briefcase-fill">Placements</option>
                      <option value="bi-people-fill">Students</option>
                      <option value="bi-person-badge">Faculty</option>
                      <option value="bi-award-fill">Experiences</option>
                    </select>
                  </div>
                  <div class="mb-3 text-center">
                    <button class="btn btn-success" type="submit">Save Achievements</button>
                  </div>
                </form>

              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="row">
        <div class="col-md-12">
          <table class="table table-bordered table-hover">
            <thead>
              <tr>
                <th scope="col">#</th>
                <th scope="col">Title</th>
                <th scope="col">Counter</th>
                <th scope="col">Icon</th>
                <th width="10%" scope="col">Action</th>
              </tr>
            </thead>
            <tbody>
              <% if(achievementsData.length> 0){ %>
                <% for(var i=0; i<achievementsData.length; i++){ %>
                  <tr>
                    <th scope="row">
                      <%= i+1 %>
                    </th>
                    <td>
                      <%= achievementsData[i].achievement_title %>
                    </td>
                    <td>
                      <%= achievementsData[i].achievement_counter %>
                    </td>
                    <td class="text-primary"><i class="bi <%= achievementsData[i].achievement_icon %>"></i></td>
                    <td>
                      <a href="/admin/edit-achievement/<%= achievementsData[i].achievement_id %>"
                        class="btn btn-warning btn-sm"><i class="bi bi-pencil-fill"></i></a>
                      <a href="/admin/delete-achievement/<%= achievementsData[i].achievement_id %>" 
                        onclick="return confirm('Are you sure you want to delete this achievement?')"
                        class="btn btn-danger btn-sm"><i class="bi bi-trash-fill"></i></a>
                    </td>
                  </tr>
                  <% } %>
                    <% } else { %>
                      <tr>
                        <td colspan="5" class="text-center">No Achievements Found</td>
                      </tr>
                      <% } %>
            </tbody>
          </table>
        </div>

        <div class="col-12 mt-4">
          <p class="d-inline-flex gap-1">
            <a class="btn btn-primary" data-bs-toggle="collapse" href="#collapseExample1" role="button"
              aria-expanded="false" aria-controls="collapseExample1">
              Add Accreditations
            </a>
          </p>
          <div class="collapse" id="collapseExample1">
            <div class="card card-body">
              <div class="container-fluid">
                <div class="row">
                  <form action="/admin/save-accreditation" method="POST">
                    <div class="mb-3">
                      <label for="accreditation_title">Accreditation Title</label>
                      <input type="text" name="accreditation_title" class="form-control"
                        placeholder="Enter Accreditation Title" id="accreditation_title" required>
                    </div>

                    <div class="mb-3">
                      <label for="accreditation_icon">Select Icon</label>
                      <select name="accreditation_icon" class="form-select" id="accreditation_icon" required>
                        <option selected value="">-- choose --</option>
                        <option value="fas fa-university">University</option>
                        <option value="fas fa-award">Award</option>
                        <option value="fas fa-globe-americas">Global</option>
                        <option value="fas fa-certificate">Certificate</option>
                      </select>
                    </div>
                    <div class="mb-3 text-center">
                      <button class="btn btn-success" type="submit">Save Accreditations</button>
                    </div>
                  </form>

                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="col-md-12">
          <table class="table table-bordered table-hover">
            <thead>
              <tr>
                <th scope="col">#</th>
                <th scope="col">Title</th>
                <th scope="col">Icon</th>
                <th width="10%" scope="col">Action</th>
              </tr>
            </thead>
            <tbody>
              <% if(typeof accreditationsData !=='undefined' && accreditationsData.length> 0){ %>
                <% for(var i=0; i<accreditationsData.length; i++){ %>
                  <tr>
                    <th scope="row">
                      <%= i+1 %>
                    </th>
                    <td>
                      <%= accreditationsData[i].accreditation_title %>
                    </td>
                    <td>
                      <i class="<%= accreditationsData[i].accreditation_icon %>"></i>
                    </td>
                    <td>
                      <a href="/admin/edit-accreditation/<%= accreditationsData[i].accreditation_id %>"
                        class="btn btn-warning btn-sm"><i class="bi bi-pencil-fill"></i></a>
                      <a href="/admin/delete-accreditation/<%= accreditationsData[i].accreditation_id %>"
                        class="btn btn-danger btn-sm"><i class="bi bi-trash-fill"></i></a>
                    </td>
                  </tr>
                  <% } %>
                    <% } else { %>
                      <tr>
                        <td colspan="4" class="text-center">No Accreditations Found</td>
                      </tr>
                      <% } %>
            </tbody>
          </table>
        </div>

      </div>
      <%- include("admin-footer.ejs") %>